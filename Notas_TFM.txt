Procedimiento para pasar el modelo determinista de horario a trihorario:

1- Crear objeto de la clase DataMatrix_NWP.
   matrix=dm.DataMatrix(datetime.datetime(2015,12,31),'/scratch/gaa/alecat/data/ecmwf/deterministic/myp/','/scratch/gaa/alecat/data/ecmwf/',
   ifexists=True,model='deterministic',suffix='.det')

2- Seleccionar las longitudes y latitudes de España (península).
   land_grid=dm.select_pen_grid()

3- Seleccionar solo las variables que queremos agregar, en este caso, todas las de radiación.
   pen_cols=matrix.query_cols(latlons=land_grid,tags=['FDIR','SSR','SSRC','CDIR','SSRD'])

4- Hacer una submatriz con las variables seleccionadas anteriormente.
   rad_var=matrix.dataMatrix[pen_cols]

5- Definir el rango de fechas que vamos a agregar. Se añade [:-1] para quitar el último elemento,
   que estará repetido, ya que queremos solo las fechas del 2015. Tras este comando tendremos las fechas
   del 2015 agrupadas de tres horas en tres horas.
   dates= pd.date_range('20150101','20160101',freq='3H')[:-1]

6- Vamos a crear una lista de índices (un array) usando las fechas definidas en el punto anterior.
   index=np.array([int(d.strftime("%Y%m%d%H")) for d in dates])

7- A continuación extraemos el conjunto trihorario que queremos de la matriz, aplicando el índice.
   rad_var_3h=rad_var.loc[index]
   Después de este paso ya tenemos los datos agregados de tres horas en tres horas para las variables
   de radiación.

8- Lo que hacemos ahora es una diferencia entre las filas para obtener los valores trihorarios.
   rad_var_3h=rad_var_3h.diff()

9- El problema que tenemos en este punto es que algunos de los datos nos salen negativos, debido a que
   por la noche, la radiación es cero y le estamos restando valores mayores. Para ello, lo que vamos a
   hacer es obtener las horas de luz del día y a partir de ellas, obtener las horas de noche. Finalmente,
   pondremos a cero los valores de las horas nocturnas.
   index_day=sr.filter_daylight_hours(index)

   index_night = [i for i in index if i not in index_day]

   rad_var_3h.loc[index_night] = 0

Procedimiento para pasar de trihorario a horario (usando clearsky).
Pasar el clearsky a trihorario:
1- Leer
